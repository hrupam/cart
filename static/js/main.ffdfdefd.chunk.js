(this["webpackJsonphello-world"]=this["webpackJsonphello-world"]||[]).push([[0],{22:function(t,e,c){},24:function(t,e,c){"use strict";c.r(e);var n=c(1),o=c(8),a=c.n(o),i=c(12),r=c.n(i),s=(c(22),c(13)),d=c(14),u=c(16),l=c(15),h=function(t){var e=t.product,c=e.price,o=e.title,a=e.qty,i=e.img,r=e.img_alt,s=e.id;return Object(n.jsxs)("div",{className:"cart-item",children:[Object(n.jsx)("div",{className:"left-block",children:Object(n.jsx)("img",{className:"image",src:i,alt:r})}),Object(n.jsxs)("div",{className:"right-block",children:[Object(n.jsx)("div",{style:{fontSize:25},children:o}),Object(n.jsxs)("div",{style:{fontSize:16,color:"#777"},children:["Price: ",c]}),Object(n.jsxs)("div",{style:{fontSize:16},children:["Qty: ",a]}),Object(n.jsxs)("div",{className:"cart-item-actions",children:[Object(n.jsx)("img",{alt:"increase",className:"action-icons",src:"https://t4.ftcdn.net/jpg/01/07/62/07/240_F_107620769_UwNVSoXnKS4VNcOKoZjPohlEPn83oE38.jpg",onClick:function(){return t.onIncreaseQuantity(t.product)}}),Object(n.jsx)("img",{alt:"decrease",className:"action-icons",src:"https://t3.ftcdn.net/jpg/03/73/49/86/240_F_373498649_nBxauQ0ipBSVrVcMpWWVmTpXu3BLvRyY.jpg",onClick:function(){return t.onDecreaseQuantity(t.product)}}),Object(n.jsx)("img",{alt:"delete",className:"action-icons",src:"https://t4.ftcdn.net/jpg/01/90/89/15/240_F_190891550_N7uKp2aHE3mOc20dmtDytj7atgvbhdOu.jpg",onClick:function(){return t.onDeleteProduct(s)}})]})]})]})},j=function(t){var e=t.products;return Object(n.jsxs)("div",{className:"cart-container",children:[Object(n.jsx)("h1",{children:"Cart"}),Object(n.jsx)("div",{className:"cart",children:e.map((function(e){return Object(n.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})]})},p=function(t){return Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsxs)("div",{className:"cart-icon",children:[Object(n.jsx)("img",{src:"https://t4.ftcdn.net/jpg/00/97/00/05/240_F_97000552_d8RwiZAnFewznisQphPtjyxxRNAAZQ92.jpg",alt:""}),t.count>0&&Object(n.jsx)("div",{className:"cart-count",children:t.count})]}),Object(n.jsx)("div",{className:"add-product",children:Object(n.jsx)("button",{onClick:function(){return t.onAddProduct()},children:"Add a Product"})})]})},f=function(t){return Object(n.jsx)("div",{className:"footer",children:t.price>0&&Object(n.jsxs)("div",{className:"price",children:["Total Price=",t.price]})})},g=c(6),m=(c(25),function(t){Object(u.a)(c,t);var e=Object(l.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).handleIncreaseQuantity=function(e){g.a.firestore().collection("products").doc(e.id).update({qty:e.qty+1}).then((function(){return console.log("Product updated")})).catch((function(t){return console.log(t)})),t.getProductsAndSetState()},t.handleDecreaseQuantity=function(e){var c=t.state.products,n=c.indexOf(e);0!==c[n].qty&&(g.a.firestore().collection("products").doc(e.id).update({qty:e.qty-1}).then((function(){return console.log("Product updated")})).catch((function(t){return console.log(t)})),t.getProductsAndSetState())},t.handleDeleteProduct=function(e){g.a.firestore().collection("products").doc(e).delete().then((function(){return console.log("prouct deleted")})).catch((function(t){return console.log(t)})),t.getProductsAndSetState()},t.countQuantity=function(){var e=0;return t.state.products.forEach((function(t){e+=t.qty})),e},t.calcPrice=function(){var e=0;return t.state.products.forEach((function(t){e+=t.price*t.qty})),e},t.handleAddProduct=function(){g.a.firestore().collection("products").add({img:"https://www.lg.com/in/images/washing-machines/md07512155/gallery/FHT1065HNL-Washing-Machines-Right-View-D-06.jpg",img_alt:"washing machine",title:"Washing Machine",price:"34999",qty:0}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),t.getProductsAndSetState()},t.state={products:[],loading:!0},t}return Object(d.a)(c,[{key:"getProductsAndSetState",value:function(){var t=this;g.a.firestore().collection("products").orderBy("price","desc").onSnapshot((function(e){var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))}},{key:"componentDidMount",value:function(){this.getProductsAndSetState()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(p,{count:this.countQuantity(),onAddProduct:this.handleAddProduct}),Object(n.jsx)(j,{products:this.state.products,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),this.state.loading&&Object(n.jsx)("h1",{children:"Loading Products...Please wait!"}),Object(n.jsx)(f,{price:this.calcPrice()})]})}}]),c}(a.a.Component));g.a.initializeApp({apiKey:"AIzaSyC9zNNMHdC89-AzbREi3bLmC-a8UXfmZE8",authDomain:"cart-5f4d8.firebaseapp.com",projectId:"cart-5f4d8",storageBucket:"cart-5f4d8.appspot.com",messagingSenderId:"861041764836",appId:"1:861041764836:web:8677ee68c51f224ccafff1"}),r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.ffdfdefd.chunk.js.map