{"version":3,"sources":["CartItem.js","Cart.js","Navbar.js","Footer.js","App.js","index.js"],"names":["CartItem","props","product","price","title","qty","img","img_alt","id","className","src","alt","style","fontSize","color","onClick","onIncreaseQuantity","onDecreaseQuantity","onDeleteProduct","Cart","products","map","Navbar","count","onAddProduct","Footer","App","handleIncreaseQuantity","firebase","firestore","collection","doc","update","then","console","log","catch","error","getProductsAndSetState","handleDecreaseQuantity","state","index","indexOf","handleDeleteProduct","delete","countQuantity","forEach","calcPrice","handleAddProduct","add","docRef","loading","orderBy","onSnapshot","snapshot","docs","data","setState","this","React","Component","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ffdfdefd.chunk.js","sourcesContent":["const CartItem = (props) => {\r\n  const { price, title, qty, img, img_alt, id } = props.product;\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"left-block\">\r\n        <img className=\"image\" src={img} alt={img_alt} />\r\n      </div>\r\n      <div className=\"right-block\">\r\n        <div style={{ fontSize: 25 }}>{title}</div>\r\n        <div style={{ fontSize: 16, color: \"#777\" }}>Price: {price}</div>\r\n        <div style={{ fontSize: 16 }}>Qty: {qty}</div>\r\n        <div className=\"cart-item-actions\">\r\n          {/* Buttons */}\r\n          <img\r\n            alt=\"increase\"\r\n            className=\"action-icons\"\r\n            src=\"https://t4.ftcdn.net/jpg/01/07/62/07/240_F_107620769_UwNVSoXnKS4VNcOKoZjPohlEPn83oE38.jpg\"\r\n            onClick={() => props.onIncreaseQuantity(props.product)}\r\n          />\r\n          <img\r\n            alt=\"decrease\"\r\n            className=\"action-icons\"\r\n            src=\"https://t3.ftcdn.net/jpg/03/73/49/86/240_F_373498649_nBxauQ0ipBSVrVcMpWWVmTpXu3BLvRyY.jpg\"\r\n            onClick={() => props.onDecreaseQuantity(props.product)}\r\n          />\r\n          <img\r\n            alt=\"delete\"\r\n            className=\"action-icons\"\r\n            src=\"https://t4.ftcdn.net/jpg/01/90/89/15/240_F_190891550_N7uKp2aHE3mOc20dmtDytj7atgvbhdOu.jpg\"\r\n            onClick={() => props.onDeleteProduct(id)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const styles = {\r\n//   image: {\r\n//     height: 110,\r\n//     width: 110,\r\n//     borderRadius: 4,\r\n//     backgroundColor: \"#ccc\",\r\n//   },\r\n// };\r\n// can be passed it in img tag style={styles.image}\r\n\r\nexport default CartItem;\r\n","import CartItem from \"./CartItem\";\r\n\r\nconst Cart = (props) => {\r\n  // console.log(props);\r\n  const { products } = props;\r\n  // console.log(products);\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <h1>Cart</h1>\r\n      <div className=\"cart\">\r\n        {products.map((product) => {\r\n          return (\r\n            <CartItem\r\n              product={product}\r\n              key={product.id}\r\n              onIncreaseQuantity={props.onIncreaseQuantity}\r\n              onDecreaseQuantity={props.onDecreaseQuantity}\r\n              onDeleteProduct={props.onDeleteProduct}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","const Navbar = (props) => {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"cart-icon\">\r\n        <img\r\n          src=\"https://t4.ftcdn.net/jpg/00/97/00/05/240_F_97000552_d8RwiZAnFewznisQphPtjyxxRNAAZQ92.jpg\"\r\n          alt=\"\"\r\n        />\r\n        {props.count > 0 && <div className=\"cart-count\">{props.count}</div>}\r\n      </div>\r\n      <div className=\"add-product\">\r\n        <button onClick={() => props.onAddProduct()}>Add a Product</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","const Footer = (props) => {\r\n  return (\r\n    <div className=\"footer\">\r\n      {props.price > 0 && (\r\n        <div className=\"price\">Total Price={props.price}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Cart from \"./Cart\";\r\nimport Navbar from \"./Navbar\";\r\nimport Footer from \"./Footer\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      // products: products,\r\n      products: [], //this will now get data from fiebase\r\n      loading: true,\r\n    };\r\n    // console.log(\"CONSTRUCTOR CALLED\");\r\n  }\r\n  handleIncreaseQuantity = (product) => {\r\n    const docRef = firebase.firestore().collection(\"products\").doc(product.id);\r\n    docRef\r\n      .update({\r\n        qty: product.qty + 1,\r\n      })\r\n      .then(() => console.log(\"Product updated\"))\r\n      .catch((error) => console.log(error));\r\n    this.getProductsAndSetState();\r\n  };\r\n  handleDecreaseQuantity = (product) => {\r\n    const { products } = this.state;\r\n    const index = products.indexOf(product);\r\n    if (products[index].qty === 0) return;\r\n    else {\r\n      const docRef = firebase\r\n        .firestore()\r\n        .collection(\"products\")\r\n        .doc(product.id);\r\n      docRef\r\n        .update({\r\n          qty: product.qty - 1,\r\n        })\r\n        .then(() => console.log(\"Product updated\"))\r\n        .catch((error) => console.log(error));\r\n      this.getProductsAndSetState();\r\n    }\r\n  };\r\n  handleDeleteProduct = (id) => {\r\n    // const { products } = this.state;\r\n    // const items = products.filter((product) => product.id !== id);\r\n    // this.setState({ products: items });\r\n    const docRef = firebase.firestore().collection(\"products\").doc(id);\r\n    docRef\r\n      .delete()\r\n      .then(() => console.log(\"prouct deleted\"))\r\n      .catch((error) => console.log(error));\r\n    this.getProductsAndSetState();\r\n  };\r\n  countQuantity = () => {\r\n    let count = 0;\r\n    const { products } = this.state;\r\n    products.forEach((product) => {\r\n      count += product.qty;\r\n    });\r\n    return count;\r\n  };\r\n  calcPrice = () => {\r\n    let price = 0;\r\n    const { products } = this.state;\r\n    products.forEach((product) => {\r\n      price += product.price * product.qty;\r\n    });\r\n    return price;\r\n  };\r\n  handleAddProduct = () => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .add({\r\n        img:\r\n          \"https://www.lg.com/in/images/washing-machines/md07512155/gallery/FHT1065HNL-Washing-Machines-Right-View-D-06.jpg\",\r\n        img_alt: \"washing machine\",\r\n        title: \"Washing Machine\",\r\n        price: \"34999\",\r\n        qty: 0,\r\n      })\r\n      .then((docRef) => {\r\n        console.log(docRef);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    this.getProductsAndSetState();\r\n  };\r\n  getProductsAndSetState() {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      .orderBy(\"price\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const products = snapshot.docs.map((doc) => {\r\n          // console.log(doc.data());\r\n          const data = doc.data();\r\n          data.id = doc.id;\r\n          return data;\r\n        });\r\n        this.setState({ products: products, loading: false });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(\"COMPONENT MOUNTED\");\r\n    //componentDidMount method is called after 1st render\r\n    this.getProductsAndSetState();\r\n  }\r\n  render() {\r\n    // console.log(\"RENDER CALLED\");\r\n    return (\r\n      <div className=\"App\">\r\n        <Navbar\r\n          count={this.countQuantity()}\r\n          onAddProduct={this.handleAddProduct}\r\n        />\r\n        <Cart\r\n          products={this.state.products}\r\n          onIncreaseQuantity={this.handleIncreaseQuantity}\r\n          onDecreaseQuantity={this.handleDecreaseQuantity}\r\n          onDeleteProduct={this.handleDeleteProduct}\r\n        />\r\n        {this.state.loading && <h1>Loading Products...Please wait!</h1>}\r\n        <Footer price={this.calcPrice()} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// import \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyC9zNNMHdC89-AzbREi3bLmC-a8UXfmZE8\",\r\n  authDomain: \"cart-5f4d8.firebaseapp.com\",\r\n  projectId: \"cart-5f4d8\",\r\n  storageBucket: \"cart-5f4d8.appspot.com\",\r\n  messagingSenderId: \"861041764836\",\r\n  appId: \"1:861041764836:web:8677ee68c51f224ccafff1\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}